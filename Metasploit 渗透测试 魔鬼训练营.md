## 第1章 魔鬼训练营——初识Metasploit

* **渗透测试**就是一种通过模拟恶意攻击者的技术与方法，挫败目标系统安全控制措施，取得访问控制权限，并发现具备业务影响后果安全隐患的一种安全测试与评估方式

* 渗透测试分类

  * 黑盒测试（外部测试）：一无所知
  * 白盒测试（内部测试）：所有知识
  * 灰盒测试：两种组合

* 渗透测试过程环节

  * [PTES](http://www.pentest-standard.org/)渗透测试执行标准是由安全界多家领军企业技术专家所共同发起的，具体包括以下7个阶段

  1. 前期交互阶段：确定渗透测试范围、目标、限制条件以及服务合同细节
  2. 情报搜集阶段：
  3. 威胁建模阶段：
  4. 漏洞分析阶段：
  5. 渗透攻击阶段：
  6. 后渗透攻击阶段：
  7. 报告阶段：

* 安全漏洞声明周期

  * 周期中，从安全漏洞被发现到厂商发布补丁程序用于修补该漏洞之前的这段器件，被安全社区普遍地称为”**0day**“
  * 100%成功率且可以躲避检测，因此”0day“的安全漏洞和对应的渗透代码对于黑客社区具有很高的价值
  * 典型包括7个部分

  1. 安全漏洞研究与挖掘
  2. 渗透代码开发与测试
  3. 安全漏洞和渗透代码在封闭团队中流传
  4. 安全漏洞和渗透代码开始扩散
  5. 恶意程序出现并开始传播
  6. 渗透代码/恶意程序大规模传播并危害互联网
  7. 渗透攻击代码/攻击工具/恶意程序逐渐消亡

* 渗透测试神器Metasploit

  * 在黑客圈里混，不学好英语是不行的
  * 诞生与发展
    * 2003年10月HD Moore发布了他的第一个基于Perl语言的Metasploit版本，当时一共集成了11个渗透攻击模块

* Metasploit结构剖析

  * 体系结构
    * 基础库文件中提供了核心框架和一些基础功能的支持
    * 实现渗透测试功能的主体代码以模块化方式组织，按用途分为6类
    * 插件机制支持将外部安全工具集成到框架中
    * 通过用户接口与功能程序提供给渗透测试者和安全研究人员进行使用

* 安装Metasploit

  * msfgui
  * **msfconsole**
  * msfcli